(this.webpackJsonpjoelhordegard=this.webpackJsonpjoelhordegard||[]).push([[0],{101:function(e,t,n){},125:function(e,t,n){e.exports=n.p+"static/media/Helvetica.084ac2e3.ttf"},126:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(48),r=n.n(i),c=(n(59),n(19)),l=n(18),s=n(6),u=(n(60),n(61),function(){return o.a.createElement("div",{className:"header left"},o.a.createElement("div",{className:"left-information"},o.a.createElement("h1",null,"Joel H\xf6rdeg\xe5rd"),o.a.createElement("h5",null,"  work "),o.a.createElement("h5",null,"  stills "),o.a.createElement("h5",null,"  contact ")),o.a.createElement("h6",null,"Director of Photography"))}),d=function(){return o.a.createElement(a.Fragment,null,o.a.createElement(u,null),o.a.createElement("div",{className:"header right"},o.a.createElement("div",{className:"right-information"})))},m=n(10),h=n(11),f=n(13),v=n(12),p=n(14),g=n(53),E=function(e){var t=Object(a.useState)(null),n=Object(c.a)(t,2),i=n[0],r=n[1];return Object(a.useEffect)((function(){var t=e&&e.metadata&&e.metadata.videoid;fetch("https://vimeo.com/api/oembed.json?url=http%3A//vimeo.com/".concat(t)).then((function(e){return e.json()})).then((function(e){return r(e.thumbnail_url)}))}),[]),o.a.createElement("div",{key:e.index,className:"image-container",onClick:e.iFrameVideo&&e.showVideo},o.a.createElement("span",null,e.title[e.index]&&e.title[e.index].title.rendered),o.a.createElement("img",{src:i}),o.a.createElement("h2",{id:"play"},"Play"))},w=function(e){var t=e.showVideo,n=e.data,a=/<iframe.*<\/iframe>/gim;return n.map((function(e,n){var i=e.content.match(a),r=Object(g.a)({},e,{iFrameVideo:i&&i[0],showVideo:function(){return t(i&&i[0],n)}});return o.a.createElement(E,Object.assign({key:n},r))}))},b=(n(62),n(49)),k=n.n(b),y=n(98),j=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(o)))).state={playing:!1},n.enableScrolling=function(){window.onscroll=function(){}},n.disableScrolling=function(){var e=window.scrollX,t=window.scrollY;window.onscroll=function(){window.scrollTo(e,t)}},n.handleClick=function(e){n.video.contains(e.target)&&n.props.hideLargeScreen()},n}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentWillMount",value:function(){document.addEventListener("click",this.handleClick,!1)}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.direction,a=t.setDirection;document.addEventListener("keydown",(function(t){"ArrowLeft"===t.key?("next"===n||null===n&&a(),e.setState({playing:!1})):"ArrowRight"===t.key&&("previous"===n||null===n&&a("next"),e.setState({playing:!1}));var o=document.getElementsByClassName("video")[0];if(!o)return null;var i=new y(o);i.getVideoId().then((function(e){fetch("https://vimeo.com/api/oembed.json?url=http%3A//vimeo.com/262165847").then((function(e){return e.json()})).then((function(e){return console.log(e)}))}));var r=e.state.playing;if(" "===t.key){if(r)return i.pause(),void e.setState({playing:!1});i.play(),e.setState({playing:!0})}})),this.disableScrolling()}},{key:"componentWillUnmount",value:function(){this.enableScrolling(),document.removeEventListener("click",this.handleClick,!1)}},{key:"render",value:function(){var e=this,t=this.props.modifiedIFrameString,n=this.state.playing;return o.a.createElement("div",{className:"video",ref:function(t){e.video=t}},o.a.createElement("div",{className:"overlay",style:{backgroundColor:n?"rgba(0,0,0,0.9)":"rgba(0,0,0,0.7)"}}),k()(t))}}]),t}(a.Component),O=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(o)))).state={indexOfLastVideo:null,iFrameVideo:!1,index:null,direction:null},n.updateVideo=function(e){var t=n.state,a=t.index,o=t.indexOfLastVideo,i=n.props.videos,r=e?a+1:a-1,c=i[r]&&i[r].content;c?n.setState({index:r,iFrameVideo:c,direction:e?"next":"previous"}):n.setState({index:e?0:o,iFrameVideo:i[e?0:o]&&i[e?0:o].content,direction:e?"next":"previous"})},n}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.videos,t=/<iframe.*<\/iframe>/gim,n=e.filter((function(e){return e.content.match(t)})).length;this.setState({indexOfLastVideo:n-1})}},{key:"render",value:function(){var e=this,t=this.props.videos,n=this.state,i=n.index,r=n.direction,c=this.state.iFrameVideo&&this.state.iFrameVideo.replace("iframe","iframe class='video'"),l={modifiedIFrameString:(c&&c.match(/<iframe.*<\/iframe>/gim))[0],index:i,setDirection:this.updateVideo,direction:r,hideLargeScreen:function(){return e.setState({iFrameVideo:!1})}};return o.a.createElement(a.Fragment,null,this.state.iFrameVideo&&o.a.createElement(j,l),o.a.createElement(w,{data:t,showVideo:function(t,n){return e.setState({iFrameVideo:t,index:n})}}))}}]),t}(a.Component),V=function(e){var t=e.videos;return t&&t.length>0?o.a.createElement("div",{className:"container"},o.a.createElement(d,null),o.a.createElement(O,{videos:t})):null},x=(n(101),n(50)),S=n.n(x),F=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(o)))).state={hover:!1},n.slowDownVideo=function(e){n.setState({hover:!n.state.hover})},n}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;this.state.hover;return o.a.createElement(a.Fragment,null,o.a.createElement("h1",{className:"name-and-work"},o.a.createElement(l.b,{to:"/work",className:"link",onMouseEnter:function(){return e.slowDownVideo(!0)},onMouseLeave:function(){return e.slowDownVideo()}},"Joel H\xf6rdeg\xe5rd / director of photography")),o.a.createElement("video",{id:"background-video",loop:!0,autoPlay:!0,muted:!0},o.a.createElement("source",{src:S.a,type:"video/mp4"}),"Your browser does not support the video tag."))}}]),t}(a.Component),N=n(42)(),L=function(){var e=Object(a.useState)(null),t=Object(c.a)(e,2),i=t[0],r=t[1];return Object(a.useEffect)((function(){N.authenticate({email:"jjohanssonjonathan@gmail.com",password:"J03lsw3bs1t3"}).then((function(e){(N=n(42)({token:e.token})).getBuckets().then((function(e){return e.buckets.forEach((function(e){"joelhordegard"===e.title&&N.bucket({slug:e.title,read_key:e.api_access.read_key,write_key:""}).getBucket().then((function(e){var t=e.bucket.objects.slice(0);t.sort((function(e,t){return e.order-t.order})),r(t)}))}))}))})).catch((function(e){throw new Error("Not authorized")}))}),[]),console.log("videos: ",i),o.a.createElement(l.a,null,o.a.createElement(s.c,null,o.a.createElement(s.a,{path:"/work"},o.a.createElement(V,{videos:i})),o.a.createElement(s.a,{path:"/"},o.a.createElement(F,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(125);r.a.render(o.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},50:function(e,t,n){e.exports=n.p+"static/media/backgroundVideo.8f282785.mp4"},54:function(e,t,n){e.exports=n(126)},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},80:function(e,t){}},[[54,1,2]]]);
//# sourceMappingURL=main.869c6acb.chunk.js.map